!function(t,n){function r(){var n=t(".countdown-wrapper").width(),r=t(window).height(),a=t(".slides .slide").size(),e=Math.min(Math.max(t(window).scrollTop(),0),r*(a-1)),i=e%r,c=Math.floor(e/r);return[{dy:i,n:a-c,h:r,w:n}]}function a(){return u.append("path").attr("class","crosshair")}function e(t){return u.append("circle").attr("r",t).attr("class","circle")}function i(){o.domain([0,c[0].h]),u.data(c).attr("width",function(t){return t.w}).attr("height",function(t){return t.h}),h.data(c).attr("width",function(t){return t.w}).attr("height",function(t){return t.h}),u.selectAll("path").data(c).attr("transform",function(t){return"translate("+t.w/2+","+t.h/2+")"}).attr("d",d),f.data(c).attr("cx",function(t){return t.w/2}).attr("cy",function(t){return t.h/2}),p.data(c).attr("cx",function(t){return t.w/2}).attr("cy",function(t){return t.h/2}),s.data(c).attr("d",function(t){return l([[0,t.h/2],[t.w,t.h/2]])}),w.data(c).attr("d",function(t){return l([[t.w/2,0],[t.w/2,t.h]])}),g.data(c).attr("x",function(t){return t.w/2}).attr("y",function(t){return t.h/2})}var c=r(),u=n.select("body .countdown-bg").data(c),o=n.scale.linear().domain([0,c[0].h]).range([0,2*Math.PI]),d=n.svg.arc().innerRadius(0).outerRadius(Math.sqrt(Math.pow(c[0].w,2)+Math.pow(c[0].h,2))).startAngle(0).endAngle(function(t){return o(t.dy)}),l=n.svg.line(),h=(u.append("path").attr("d",d).attr("class","sweep"),u.append("rect").attr("x",0).attr("y",0).attr("fill","url(#vignette)")),s=a(),w=a(),f=e(100),p=e(130),g=u.append("text").text(function(t){return t.n}).style("text-anchor","middle").style("alignment-baseline","central").attr("class","text");i(),t(window).on("resize",function(){c=r(),i()}),t(window).on("scroll",function(){c=r(),u.selectAll("path").data(c).attr("d",d),u.selectAll("text").data(c).text(function(t){return t.n})})}($,d3);